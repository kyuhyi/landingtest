# ğŸš¨ ë¹ ë¥¸ ë¬¸ì œ í•´ê²° ê°€ì´ë“œ

## í˜„ì¬ ë°œìƒí•œ ë¬¸ì œë“¤

### 1. âŒ íšŒì›ê°€ì… í›„ Firestoreì— ë°ì´í„° ì €ì¥ ì•ˆë¨
### 2. âŒ ë¡œê·¸ì¸ ì‹¤íŒ¨ (invalid-credential)
### 3. âŒ Firestore ì¸ë±ìŠ¤ í•„ìš”

---

## âš¡ ì¦‰ì‹œ í•´ê²° ë°©ë²•

### STEP 1: Firestore ë³´ì•ˆ ê·œì¹™ ì„ì‹œ ê°œë°©

1. Firebase Console ì—´ê¸°: https://console.firebase.google.com
2. í”„ë¡œì íŠ¸ ì„ íƒ: `BSD-test`
3. **Firestore Database** â†’ **ê·œì¹™** íƒ­ í´ë¦­

4. ë‹¤ìŒ ì½”ë“œë¡œ **ì „ì²´ êµì²´**:

```javascript
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    match /{document=**} {
      allow read, write: if true;
    }
  }
}
```

5. **ê²Œì‹œ** ë²„íŠ¼ í´ë¦­

### STEP 2: Storage ë³´ì•ˆ ê·œì¹™ ê°œë°©

1. Firebase Console â†’ **Storage** â†’ **ê·œì¹™** íƒ­
2. ë‹¤ìŒ ì½”ë“œë¡œ ì „ì²´ êµì²´:

```javascript
rules_version = '2';
service firebase.storage {
  match /b/{bucket}/o {
    match /{allPaths=**} {
      allow read, write: if true;
    }
  }
}
```

3. **ê²Œì‹œ** ë²„íŠ¼ í´ë¦­

### STEP 3: Firestore ì¸ë±ìŠ¤ ìƒì„±

**ë°©ë²• 1: ì—ëŸ¬ ë§í¬ ì‚¬ìš© (ê°€ì¥ ì‰¬ì›€)**
- ë¸Œë¼ìš°ì € ì½˜ì†”ì— ë‚˜ì˜¨ ì¸ë±ìŠ¤ ìƒì„± ë§í¬ í´ë¦­
- "ì¸ë±ìŠ¤ ë§Œë“¤ê¸°" ë²„íŠ¼ í´ë¦­
- ì™„ë£Œë  ë•Œê¹Œì§€ ëŒ€ê¸° (1-2ë¶„)

**ë°©ë²• 2: ìˆ˜ë™ ìƒì„±**
1. Firebase Console â†’ Firestore Database â†’ **ì¸ë±ìŠ¤** íƒ­
2. **ë³µí•© ì¶”ê°€** í´ë¦­
3. ì„¤ì •:
   ```
   ì»¬ë ‰ì…˜ ID: reviews
   í•„ë“œ 1: productId (ì˜¤ë¦„ì°¨ìˆœ Ascending)
   í•„ë“œ 2: createdAt (ë‚´ë¦¼ì°¨ìˆœ Descending)
   ì¿¼ë¦¬ ë²”ìœ„: Collection
   ```
4. **ë§Œë“¤ê¸°** í´ë¦­
5. ì¸ë±ìŠ¤ ìƒíƒœê°€ "ë¹Œë“œ ì¤‘" â†’ "ì‚¬ìš© ì„¤ì •ë¨" ë  ë•Œê¹Œì§€ ëŒ€ê¸°

### STEP 4: ë¸Œë¼ìš°ì € ìºì‹œ ë° ì„œë²„ ì¬ì‹œì‘

```bash
# í„°ë¯¸ë„ì—ì„œ:
1. Ctrl+C (ê°œë°œ ì„œë²„ ì¤‘ì§€)
2. npm run dev (ì„œë²„ ì¬ì‹œì‘)
3. ë¸Œë¼ìš°ì €ì—ì„œ Ctrl+Shift+R (ê°•ë ¥ ìƒˆë¡œê³ ì¹¨)
```

---

## âœ… í…ŒìŠ¤íŠ¸ ìˆœì„œ

### 1. íšŒì›ê°€ì… í…ŒìŠ¤íŠ¸
```
1. http://localhost:3000/register ì ‘ì†
2. ì •ë³´ ì…ë ¥:
   - ì´ë¦„: í…ŒìŠ¤íŠ¸ì‚¬ìš©ì
   - ì´ë©”ì¼: test@test.com
   - ë¹„ë°€ë²ˆí˜¸: test1234
   - ë¹„ë°€ë²ˆí˜¸ í™•ì¸: test1234
3. "íšŒì›ê°€ì…" ë²„íŠ¼ í´ë¦­
4. ì„±ê³µ ì‹œ í™ˆí˜ì´ì§€ë¡œ ì´ë™
```

### 2. Firebase í™•ì¸
```
1. Firebase Console â†’ Authentication
   â†’ test@test.com ê³„ì • ìƒì„± í™•ì¸

2. Firebase Console â†’ Firestore Database
   â†’ users ì»¬ë ‰ì…˜
   â†’ test@test.com ë¬¸ì„œ í™•ì¸
   â†’ í•„ë“œ í™•ì¸: name, email, role, createdAt, updatedAt
```

### 3. ë¡œê·¸ì¸ í…ŒìŠ¤íŠ¸
```
1. http://localhost:3000/login ì ‘ì†
2. ì •ë³´ ì…ë ¥:
   - ì´ë©”ì¼: test@test.com
   - ë¹„ë°€ë²ˆí˜¸: test1234
3. "ë¡œê·¸ì¸" ë²„íŠ¼ í´ë¦­
4. ì„±ê³µ ì‹œ í™ˆí˜ì´ì§€ë¡œ ì´ë™
```

### 4. ê´€ë¦¬ì ê¶Œí•œ ì„¤ì • (ì„ íƒ)
```
1. Firebase Console â†’ Firestore Database
2. users ì»¬ë ‰ì…˜ì—ì„œ ë³¸ì¸ ê³„ì • ë¬¸ì„œ í´ë¦­
3. role í•„ë“œ ê°’ì„ "admin"ìœ¼ë¡œ ë³€ê²½
4. ì—…ë°ì´íŠ¸ í´ë¦­
5. ë¡œê·¸ì•„ì›ƒ í›„ ë‹¤ì‹œ ë¡œê·¸ì¸
6. /admin/users, /admin/orders ì ‘ê·¼ ê°€ëŠ¥ í™•ì¸
```

---

## ğŸ” ë¬¸ì œê°€ ê³„ì†ë˜ë©´ í™•ì¸í•  ê²ƒ

### Console ì—ëŸ¬ í™•ì¸
ë¸Œë¼ìš°ì € F12 â†’ Console íƒ­ì—ì„œ ì—ëŸ¬ ë©”ì‹œì§€ í™•ì¸

### ì¼ë°˜ì ì¸ ì—ëŸ¬ì™€ í•´ê²°:

#### "permission-denied"
â†’ Firestore/Storage ê·œì¹™ì´ ì œëŒ€ë¡œ ì„¤ì •ë˜ì§€ ì•ŠìŒ
â†’ STEP 1, 2 ë‹¤ì‹œ í™•ì¸

#### "index-not-found" ë˜ëŠ” "requires an index"
â†’ Firestore ì¸ë±ìŠ¤ê°€ ìƒì„±ë˜ì§€ ì•Šì•˜ê±°ë‚˜ ë¹Œë“œ ì¤‘
â†’ STEP 3 ë‹¤ì‹œ í™•ì¸, ì¸ë±ìŠ¤ ìƒíƒœ "ì‚¬ìš© ì„¤ì •ë¨" í™•ì¸

#### "auth/invalid-credential"
â†’ ê³„ì •ì´ ì¡´ì¬í•˜ì§€ ì•Šê±°ë‚˜ ë¹„ë°€ë²ˆí˜¸ê°€ í‹€ë¦¼
â†’ Firebase Authenticationì—ì„œ ê³„ì • ì¡´ì¬ ì—¬ë¶€ í™•ì¸
â†’ ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì • ë˜ëŠ” ìƒˆ ê³„ì •ìœ¼ë¡œ ê°€ì…

#### "auth/network-request-failed"
â†’ Firebase API í‚¤ ë¬¸ì œ ë˜ëŠ” ë„¤íŠ¸ì›Œí¬ ë¬¸ì œ
â†’ .env.development íŒŒì¼ì˜ Firebase ì„¤ì • ì¬í™•ì¸
â†’ Firebase Console â†’ í”„ë¡œì íŠ¸ ì„¤ì •ì—ì„œ API í‚¤ ì¬í™•ì¸

---

## ğŸ“Š í˜„ì¬ ì„¤ì • ìƒíƒœ ì²´í¬ë¦¬ìŠ¤íŠ¸

### Firebase Console
- [ ] Firestore Database ìƒì„±ë¨
- [ ] Firestore ê·œì¹™ `allow read, write: if true` ì„¤ì •ë¨
- [ ] Firestore ê·œì¹™ ê²Œì‹œë¨
- [ ] Storage ìƒì„±ë¨
- [ ] Storage ê·œì¹™ `allow read, write: if true` ì„¤ì •ë¨
- [ ] Storage ê·œì¹™ ê²Œì‹œë¨
- [ ] Authentication í™œì„±í™”ë¨
- [ ] ì´ë©”ì¼/ë¹„ë°€ë²ˆí˜¸ ì œê³µì—…ì²´ í™œì„±í™”ë¨
- [ ] Firestore ì¸ë±ìŠ¤ (reviews: productId, createdAt) ìƒì„± ë° "ì‚¬ìš© ì„¤ì •ë¨" ìƒíƒœ

### ë¡œì»¬ í™˜ê²½
- [ ] .env.development íŒŒì¼ ì¡´ì¬
- [ ] Firebase API í‚¤ë“¤ì´ ì •í™•íˆ ì…ë ¥ë¨
- [ ] npm run dev ì„œë²„ ì‹¤í–‰ ì¤‘
- [ ] ë¸Œë¼ìš°ì € ìºì‹œ í´ë¦¬ì–´ ì™„ë£Œ

---

## ğŸ¯ ìµœì¢… í™•ì¸

ëª¨ë“  ì„¤ì •ì´ ì™„ë£Œë˜ë©´:

1. **íšŒì›ê°€ì…** â†’ Firebase Authentication + Firestoreì— ê³„ì • ìƒì„± í™•ì¸
2. **ë¡œê·¸ì¸** â†’ ì •ìƒ ë¡œê·¸ì¸ ë° í™ˆí˜ì´ì§€ ì´ë™ í™•ì¸
3. **ê²°ì œ** â†’ ì£¼ë¬¸ Firestoreì— ì €ì¥ í™•ì¸
4. **ë§ˆì´í˜ì´ì§€** â†’ ì£¼ë¬¸ ë‚´ì—­ ì¡°íšŒ í™•ì¸
5. **ë¦¬ë·° ì‘ì„±** â†’ Firestoreì— ë¦¬ë·° ì €ì¥ ë° ìƒí’ˆ í˜ì´ì§€ì— í‘œì‹œ í™•ì¸
6. **ê´€ë¦¬ì í˜ì´ì§€** â†’ ì „ì²´ ì‚¬ìš©ì/ì£¼ë¬¸ ëª©ë¡ ì¡°íšŒ í™•ì¸

ëª¨ë“  ê¸°ëŠ¥ì´ ì •ìƒ ì‘ë™í•˜ë©´ Firebase ì—°ë™ ì™„ë£Œ! ğŸ‰

---

## âš ï¸ ì¤‘ìš” ë³´ì•ˆ ì•Œë¦¼

**í˜„ì¬ ë³´ì•ˆ ê·œì¹™ (`allow read, write: if true`)ì€ í…ŒìŠ¤íŠ¸ ì „ìš©ì…ë‹ˆë‹¤!**

í”„ë¡œë•ì…˜ ë°°í¬ ì „ì— ë°˜ë“œì‹œ:
1. `FIREBASE_SETUP_GUIDE.md`ì˜ í”„ë¡œë•ì…˜ ë³´ì•ˆ ê·œì¹™ìœ¼ë¡œ êµì²´
2. ì‚¬ìš©ì ì¸ì¦ í™•ì¸
3. ë³¸ì¸ ë°ì´í„°ë§Œ ì ‘ê·¼ ê°€ëŠ¥í•˜ë„ë¡ ê·œì¹™ ì ìš©
4. ê´€ë¦¬ì ê¶Œí•œ ì²´ê³„ ì ìš©

---

## ğŸ’¬ ì¶”ê°€ ë„ì›€ì´ í•„ìš”í•˜ë©´

1. Firebase Consoleì—ì„œ ì‹¤ì‹œê°„ ë¡œê·¸ í™•ì¸
2. ë¸Œë¼ìš°ì € ê°œë°œì ë„êµ¬ â†’ Network íƒ­ì—ì„œ ì‹¤íŒ¨í•œ ìš”ì²­ í™•ì¸
3. ë¸Œë¼ìš°ì € ê°œë°œì ë„êµ¬ â†’ Console íƒ­ì—ì„œ ì—ëŸ¬ ë©”ì‹œì§€ ë³µì‚¬
